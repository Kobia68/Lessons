<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>

        let stocks = {
            fruits:['strawberry', 'mango', 'orange'],
            liquids: ['water', 'ice'],
            holder: ['cone', 'cup', 'stick'],
            toppings: ['chocolate', 'peanuts']
        } 

        let is_shop_open = false;

        function time (ms) {
            return new Promise ((resolve, reject) => {
                if (is_shop_open) {
                    setTimeout(resolve, ms)
                }
                else {
                    console.log('Shop is closed')
                }
            })
        }

        async function kitchen () {
            await time(2000)
            console.log(`a ${stocks.fruits[0]}  order has been placed`)

            await time (2000)
            console.log('The fruits have been chopped')

            await time (1000)
            console.log(`${stocks.liquids[0]} and ${stocks.liquids[1]} have been added`)

            await time (1000)
            console.log('Start the machine')

            await time (2000)
            console.log(`Ice cream to be placed on the ${stocks.holder[0]}`)

            await time (3000) 
            console.log(`Use the ${stocks.toppings[0]} as the topping`)

            await time (2000)
            console.log('Ice cream is ready to be served')
        }

        kitchen();


    </script>
    
</body>
</html>